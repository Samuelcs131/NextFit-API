// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js" 
}

datasource db {
  provider = "mongodb"
  url      = env("DEV_DATABASE_URL")
}

model User {
  id String @id @default(auto()) @map("_id") @db.ObjectId
  name String
  lastName String
  email String @unique
  height Float
  weight Int
  sex Int
  typeUser Int
  password String
  passwordResetToken String
  passwordResetExpires DateTime
  bodyMeasurement BodyMeasurement[]
  training Training[]
}

model Muscle {
  id String @id @default(auto()) @map("_id") @db.ObjectId
  name String @unique
  member String
  exercise Exercise[]
}

model Exercise {
  id String @id @default(auto()) @map("_id") @db.ObjectId
  muscle Muscle @relation(fields: [muscleId], references: [id])
  muscleId String @db.ObjectId
  name String @unique
  img String
  training Training[]
}

model BodyMeasurement {
  id String @id @default(auto()) @map("_id") @db.ObjectId
  user User @relation(fields: [userId], references: [id])
  userId String @db.ObjectId
  date DateTime 
  weight Float 
  rightArm Float
  leftArm Float
  rightThigh Float
  leftThigh Float
  rightForearm Float
  leftForearm Float
  breastplate Float
  abdomen Float
  gluteal Float
  rightCalf Float
  leftCalf Float
  deltoid Float
  createAt DateTime
}

model Training {
  id String @id @default(auto()) @map("_id") @db.ObjectId
  user User @relation(fields: [userId], references: [id])
  userId String @db.ObjectId
  exercise Exercise @relation(fields: [exerciseId], references: [id])
  exerciseId String @db.ObjectId
  date DateTime
  series Int
  repetitions Int
  weight Float
  interval Int
  createAt DateTime 
}